<div class="p-6 max-w-lg mx-auto bg-white shadow-lg rounded-lg">
  <form [formGroup]="contactForm" (ngSubmit)="addContact()" class="space-y-6">
    <!-- Success Message -->
    <div *ngIf="successMessage" class="text-sm text-green-600 bg-green-100 p-3 rounded border border-green-200">
      {{ successMessage }}
    </div>

    <!-- First Name -->
    <div>
      <label class="block mb-2 text-lg font-medium text-gray-700">First Name</label>
      <input
        type="text"
        formControlName="firstName"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter first name"
      />
    </div>

    <!-- Last Name -->
    <div>
      <label class="block mb-2 text-lg font-medium text-gray-700">Last Name</label>
      <input
        type="text"
        formControlName="lastName"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter last name"
      />
    </div>

    <!-- Email -->
    <div>
      <label class="block mb-2 text-lg font-medium text-gray-700">Email</label>
      <input
        type="email"
        formControlName="email"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter email"
      />
    </div>

    <!-- Phone Number -->
    <div>
      <label class="block mb-2 text-lg font-medium text-gray-700">Phone Number</label>
      <input
        type="text"
        formControlName="phoneNumber"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter phone number"
      />
    </div>

    <!-- Address -->
    <div>
      <label class="block mb-2 text-lg font-medium text-gray-700">Address</label>
      <textarea
        formControlName="address"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter address"
      ></textarea>
    </div>

    <!-- Group -->
    <div>
      <label class="block mb-2 text-lg font-medium text-gray-700">Group</label>
      <select formControlName="group" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="Family">Family</option>
        <option value="Friends">Friends</option>
        <option value="Work">Work</option>
      </select>
    </div>

    <!-- Image Upload -->
    <div>
      <label class="block mb-2 text-lg font-medium text-gray-700">Upload Image (Optional)</label>
      <input
        type="file"
        (change)="handleImageUpload($event)"
        accept="image/*"
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <div *ngIf="imageError" class="text-sm text-red-600 mt-2">
        {{ imageError }}
      </div>
    </div>

    <!-- Image Preview -->
    <div *ngIf="selectedImage">
      <label class="block mb-2 text-lg font-medium text-gray-700">Image Preview</label>
      <img
        [src]="selectedImage | filePreview"
        alt="Image Preview"
        class="w-full max-h-40 object-cover border rounded-lg"
      />
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="w-full bg-blue-500 text-white py-3 rounded-lg flex items-center justify-center hover:bg-blue-600 disabled:bg-gray-400 transition duration-200"
      [disabled]="contactForm.invalid || isLoading"
    >
      <span *ngIf="isLoading" class="loader mr-3"></span>
      <span *ngIf="!isLoading">Add Contact</span>
      <span *ngIf="isLoading">Saving...</span>
    </button>
  </form>
</div>
